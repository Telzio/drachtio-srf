<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Srf - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Dialog.html">Dialog</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Dialog.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Dialog.html#modify">modify</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Dialog.html#request">request</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Srf.html">Srf</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Srf.html#connect">connect</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Srf.html#createB2BUA">createB2BUA</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Srf.html#createBackToBackDialogs">createBackToBackDialogs</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Srf.html#createUAC">createUAC</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Srf.html#createUacDialog">createUacDialog</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Srf.html#createUAS">createUAS</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Srf.html#createUasDialog">createUasDialog</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Srf.html#proxyRequest">proxyRequest</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Srf.html#request">request</a></span></li><li class="nav-heading">Events</li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="Dialog.html#event:destroy">destroy</a></span></li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="Dialog.html#event:info">info</a></span></li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="Dialog.html#event:modify">modify</a></span></li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="Dialog.html#event:notify">notify</a></span></li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="Dialog.html#event:refer">refer</a></span></li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="Dialog.html#event:refresh">refresh</a></span></li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="Dialog.html#event:update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="Srf.html#event:cdr:attempt">cdr:attempt</a></span></li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="Srf.html#event:cdr:start">cdr:start</a></span></li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="Srf.html#event:cdr:stop">cdr:stop</a></span></li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="Srf.html#event:connect">connect</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li>
</nav>

<div id="main">
    
    <h1 class="page-title">Srf</h1>
    

    




<section>

<header>
    
        <h2>
        Srf
        </h2>
        
            <div class="class-description">A signaling resource framework</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        
<div class="section-method">

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="Srf"><span class="type-signature"></span>new Srf<span class="signature">(app)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Creates a signaling resource framework instance.
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line16">line 16</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>app</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                drachtio app, or connects args (optional)
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            
<div class="section-method">

    

    <h4 class="name" id="connect"><span class="type-signature"></span>connect<span class="signature">(host<span class="signature-attributes">opt</span>, port<span class="signature-attributes">opt</span>, secret, cb<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    connect to drachtio server
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line1124">line 1124</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>host</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    'localhost'
                
                </td>
            

            <td class="description last">
                address drachtio server is listening on for client connections
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>port</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Number</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    9022
                
                </td>
            

            <td class="description last">
                address drachtio server is listening on for client connections
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>secret</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">
                shared secret used to authenticate connections
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Srf.html#~connectCallback">Srf~connectCallback</a></code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">
                callback invoked when operation has completed successfully
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="createB2BUA"><span class="type-signature"></span>createB2BUA<span class="signature">(req, res, uri, opts<span class="signature-attributes">opt</span>, cbRequest<span class="signature-attributes">opt</span>, cbProvisional<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    create back-to-back dialogs; i.e. act as a back-to-back user agent
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line305">line 305</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Request</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                incoming drachtio Request object, received in app.invite(...) method
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Response</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                drachtio Response passed with incoming request
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>uri</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                an IP address[:port] to send the B leg to
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Srf.html#~b2bOptions">Srf~b2bOptions</a></code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                configuration options
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cbRequest</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Srf~requestCreationCallback</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                callback that provides the UAC request that was sent over the wire
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cbProvisional</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Srf.html#~provisionalResponseCallback">Srf~provisionalResponseCallback</a></code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                callback that passes on provisional responses on UAC leg
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>Promise</code></span>


    </dd>
</dl>


<div class="param-desc">
    promise fulfilled with {uac, uas} pair of dialogs, or rejected with cause of failure
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="createBackToBackDialogs"><span class="type-signature"></span>createBackToBackDialogs<span class="signature">(req, res, uri, opts<span class="signature-attributes">opt</span>, cb)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    create back-to-back dialogs; i.e. act as a back-to-back user agent
</div>





<dl class="details">

    

    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>please use createB2BUA instead</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line661">line 661</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Request</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                incoming drachtio Request object, received in app.invite(...) method
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Response</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                drachtio Response passed with incoming request
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>uri</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>
|

<span class="param-type"><code>Array</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                an IP address[:port], or list of same, to send the B leg to
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Srf.html#~b2bOptions">Srf~b2bOptions</a></code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                configuration options
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Srf.html#~b2bDialogCreationCallback">Srf~b2bDialogCreationCallback</a></code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                callback invoked when operation is completed
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>Promise</code></span>


    </dd>
</dl>


<div class="param-desc">
    promise fulfilled with the uac request that is actually sent over the wire
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="createUAC"><span class="type-signature"></span>createUAC<span class="signature">(uri, opts, cbRequest<span class="signature-attributes">opt</span>, cbProvisional<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    create a UAC (user agent client)
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line164">line 164</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>uri</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                request uri to send to
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Srf.html#~uacOptions">Srf~uacOptions</a></code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                configuration options
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cbRequest</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Srf~requestCreationCallback</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                callback that provides the request that was sent over the wire
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cbProvisional</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Srf.html#~provisionalResponseCallback">Srf~provisionalResponseCallback</a></code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                callback that passes on provisional responses
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Srf~uacCallback</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                optional callback
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>Promise</code></span>


    </dd>
</dl>


<div class="param-desc">
    Promise if no callback is specified, a Promise is returned that resolves with the dialog
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="createUacDialog"><span class="type-signature"></span>createUacDialog<span class="signature">(uri, opts, cb, cbProvisional<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    create a user-agent client (UAC) dialog by generating an INVITE request
</div>





<dl class="details">

    

    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>please use createUAC instead</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line548">line 548</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>uri</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="global.html#RequestUri">RequestUri</a></code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                request uri to send to
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Srf.html#~uacOptions">Srf~uacOptions</a></code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                configuration options
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Srf.html#~dialogCreationCallback">Srf~dialogCreationCallback</a></code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                callback that provides the created Dialog
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cbProvisional</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Srf.html#~provisionalResponseCallback">Srf~provisionalResponseCallback</a></code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                callback that passes on provisional responses
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>Promise</code></span>


    </dd>
</dl>


<div class="param-desc">
    promise fulfilled with the request that is actually sent over the wire
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="createUAS"><span class="type-signature"></span>createUAS<span class="signature">(req, res, opts<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    process an incoming INVITE or SUBSCRIBE as a UAS (user agent server)
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line107">line 107</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Request</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                drachtio request object
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Response</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                drachtio response object
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Srf.html#~uasOptions">Srf~uasOptions</a></code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                configuration options
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Srf.html#~uasCallback">Srf~uasCallback</a></code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                optional callback
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>Promise</code></span>


    </dd>
</dl>


<div class="param-desc">
    Promise if no callback is specified, a Promise is returned that resolves with the dialog
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="createUasDialog"><span class="type-signature"></span>createUasDialog<span class="signature">(req, res, opts, cb)</span><span class="type-signature"></span></h4>

    



<div class="description">
    respond to an incoming INVITE message by creating a user-agent server (UAS) dialog
</div>





<dl class="details">

    

    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>please use createUAS instead</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line501">line 501</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Request</code></span>


            
            </td>

            

            

            <td class="description last">
                incoming drachtio Request object, received in app.invite(...) method
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Response</code></span>


            
            </td>

            

            

            <td class="description last">
                drachtio Response passed with incoming request
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Srf.html#~uasOptions">Srf~uasOptions</a></code></span>


            
            </td>

            

            

            <td class="description last">
                configuration options
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Srf.html#~dialogCreationCallback">Srf~dialogCreationCallback</a></code></span>


            
            </td>

            

            

            <td class="description last">
                callback that provides the created Dialog
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="proxyRequest"><span class="type-signature"></span>proxyRequest<span class="signature">(req, destination, opts<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    proxy an incoming request
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line916">line 916</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Request</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                drachtio request object representing an incoming SIP request
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>destination</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>
|

<span class="param-type"><code>Array</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                an IP address[:port], or list of same, to proxy the request to
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Srf.html#~proxyOptions">Srf~proxyOptions</a></code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                configuration options for the proxy operation
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Srf.html#~proxyCallback">Srf~proxyCallback</a></code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                invoked when proxy operation is completed
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="request"><span class="type-signature"></span>request<span class="signature">(uri, opts<span class="signature-attributes">opt</span>, cb<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    send a SIP request outside of a dialog
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line1103">line 1103</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>uri</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                sip request-uri to send request to
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Srf.html#~requestOptions">Srf~requestOptions</a></code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                configuration options
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Srf.html#~requestCallback">Srf~requestCallback</a></code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                callback invoked when operation has completed
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                
<div class="section-method">

    

    <h4 class="name" id="~b2bDialogCreationCallback"><span class="type-signature"></span>b2bDialogCreationCallback<span class="signature">(err, uasDialog, uacDialog)</span><span class="type-signature"></span></h4>

    



<div class="description">
    This callback provides the response to createBackToBackDialog request.
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line1002">line 1002</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>err</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Error</code></span>


            
            </td>

            

            

            <td class="description last">
                error returned on non-success
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>uasDialog</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Dialog.html">Dialog</a></code></span>


            
            </td>

            

            

            <td class="description last">
                User Agent Server dialog (i.e., "A" leg)
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>uacDialog</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Dialog.html">Dialog</a></code></span>


            
            </td>

            

            

            <td class="description last">
                User Agent Client dialog (i.e., "B" leg)
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
            
                
<div class="section-members">
<h4 class="name" id="~b2bOptions">b2bOptions</h4>




<div class="description">
    Arguments provided when creating a B2BUA
</div>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>headers</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">SIP headers to include on the SIP INVITE request</td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>localSdpA</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>
|

<span class="param-type"><code>function</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">the local session description protocol
to offer in the response to the SIP INVITE request on the A leg; if a function is
 provided, the function is invoked to produce the SDP</td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>localSdpB</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">the local session description protocol to offer in the SIP INVITE request on the B leg</td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>proxyRequestHeaders</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Array</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">an array of header names which, if they appear in the INVITE request
on the A leg, should be included unchanged on the generated B leg INVITE</td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>proxyResponseHeaders</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Array</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">an array of header names which, if they appear
in the response to the outgoing INVITE, should be included unchanged on the generated response to the A leg</td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>onProvisional</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Srf~provisionalCallback</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">a callback that is invoked when a
provisional response is received from the B leg</td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>provisionalTimeout</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last">timeout after which to attempt next uri in the destination array (e.g '1s')</td>
        </tr>

        

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line1047">line 1047</a>
    </li></ul></dd>
    

    

    

    
</dl>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><code>Object</code></span>


        </li>
    </ul>





</div>

            
                
<div class="section-method">

    

    <h4 class="name" id="~connectCallback"><span class="type-signature"></span>connectCallback<span class="signature">(hostport)</span><span class="type-signature"></span></h4>

    



<div class="description">
    This callback provides the response to the connect method
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line1132">line 1132</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>hostport</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            

            

            <td class="description last">
                the SIP address[:port] drachtio server is listening on for incoming SIP messages
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
            
                
<div class="section-method">

    

    <h4 class="name" id="~dialogCreationCallback"><span class="type-signature"></span>dialogCreationCallback<span class="signature">(err, dialog)</span><span class="type-signature"></span></h4>

    



<div class="description">
    This callback provides the response to an api request.
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line1017">line 1017</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>err</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Error</code></span>


            
            </td>

            

            

            <td class="description last">
                error returned on non-success
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dialog</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Dialog.html">Dialog</a></code></span>


            
            </td>

            

            

            <td class="description last">
                Dialog object created on success
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
            
                
<div class="section-method">

    

    <h4 class="name" id="~provisionalResponseCallback"><span class="type-signature"></span>provisionalResponseCallback<span class="signature">(res)</span><span class="type-signature"></span></h4>

    



<div class="description">
    This callback provides the provisional responses received on the UAS leg when
issuing a createBackToBackDialog request.
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line1010">line 1010</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Response</code></span>


            
            </td>

            

            

            <td class="description last">
                drachtio Response object
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
            
                
<div class="section-method">

    

    <h4 class="name" id="~proxyCallback"><span class="type-signature"></span>proxyCallback<span class="signature">(err, results)</span><span class="type-signature"></span></h4>

    



<div class="description">
    This callback provides the response to the proxy method
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line1024">line 1024</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>err</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Error</code></span>


            
            </td>

            

            

            <td class="description last">
                error returned on non-success
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>results</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Srf.html#~proxyResults">Srf~proxyResults</a></code></span>


            
            </td>

            

            

            <td class="description last">
                description of the result of the proxy operation
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
            
                
<div class="section-members">
<h4 class="name" id="~proxyOptions">proxyOptions</h4>




<div class="description">
    Arguments provided when proxying an incoming request
</div>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>forking</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                    sequential
                
                </td>
            

            <td class="description last">when multiple destinations are provided,
this option governs whether they are attempted sequentially or in parallel.
Valid values are 'sequential' or 'parallel'</td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>remainInDialog</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Boolean</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last">if true, add Record-Route header and
remain in the SIP dialog (i.e. receiving futher SIP messaging for the dialog, including the terminating BYE request)</td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>provisionalTimeout</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">timeout after which to attempt the next destination
if no 100 Trying response has been received.  Examples of valid syntax for this property is '1500ms', or '2s'</td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>finalTimeout</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">timeout, in milliseconds, after which to cancel
the current request and attempt the next destination if no final response has been received.
Syntax is the same as for the provisionalTimeout property.</td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>followRedirects</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Boolean</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last">if true, handle 3XX redirect responses by
generating a new request as per the Contact header; otherwise, proxy the 3XX response
back upstream without generating a new response</td>
        </tr>

        

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line1064">line 1064</a>
    </li></ul></dd>
    

    

    

    
</dl>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><code>Object</code></span>


        </li>
    </ul>





</div>

            
                
<div class="section-members">
<h4 class="name" id="~proxyResponse">proxyResponse</h4>




<div class="description">
    Detailed information describing the responses received from one proxy destination
</div>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>address</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">destination SIP signaling address that generated the response</td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>port</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Number</code></span>


            
            </td>

            

            

            <td class="description last">destination SIP signaling port that generated the response</td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>msgs</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Array.&lt;<a href="Srf.html#~proxyResponseMsg">Srf~proxyResponseMsg</a>></code></span>


            
            </td>

            

            

            <td class="description last">array of SIP messages received from the
destination in response to the proxy request</td>
        </tr>

        

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line1088">line 1088</a>
    </li></ul></dd>
    

    

    

    
</dl>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><code>Object</code></span>


        </li>
    </ul>





</div>

            
                
<div class="section-members">
<h4 class="name" id="~proxyResponseMsg">proxyResponseMsg</h4>




<div class="description">
    Detailed information describing a single SIP response message received from one specific proxy attempt
</div>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>time</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            

            

            <td class="description last">the time (UTC) at which the SIP stack received the response</td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>status</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Number</code></span>


            
            </td>

            

            

            <td class="description last">the SIP status of the response</td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>msg</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">the full SIP message received</td>
        </tr>

        

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line1096">line 1096</a>
    </li></ul></dd>
    

    

    

    
</dl>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><code>Object</code></span>


        </li>
    </ul>





</div>

            
                
<div class="section-members">
<h4 class="name" id="~proxyResults">proxyResults</h4>




<div class="description">
    Arguments provided when proxying an incoming request
</div>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>connected</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Boolean</code></span>


            
            </td>

            

            

            <td class="description last">indicates whether the request was successfully connected to one of the destinations</td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>responses</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Array.&lt;<a href="Srf.html#~proxyResponse">Srf~proxyResponse</a>></code></span>


            
            </td>

            

            

            <td class="description last">array of responses received from destination endpoints</td>
        </tr>

        

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line1082">line 1082</a>
    </li></ul></dd>
    

    

    

    
</dl>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><code>Object</code></span>


        </li>
    </ul>





</div>

            
                
<div class="section-method">

    

    <h4 class="name" id="~requestCallback"><span class="type-signature"></span>requestCallback<span class="signature">(err, req)</span><span class="type-signature"></span></h4>

    



<div class="description">
    This callback provides the response to the request method
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line1117">line 1117</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>err</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Error</code></span>


            
            </td>

            

            

            <td class="description last">
                error returned on non-success
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Request</code></span>


            
            </td>

            

            

            <td class="description last">
                drachtio request that was sent. Note: you will typically
want to call "req.on('response', function(res){..}"" in order to handle responses from the far end.
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
            
                
<div class="section-members">
<h4 class="name" id="~requestOptions">requestOptions</h4>




<div class="description">
    Arguments provided when sending a request outside of a dialog
</div>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>method</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last">SIP method to send (lower-case)</td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>headers</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">SIP headers to apply to the outbound request</td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>body</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">body to send with the SIP request</td>
        </tr>

        

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line1110">line 1110</a>
    </li></ul></dd>
    

    

    

    
</dl>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><code>Object</code></span>


        </li>
    </ul>





</div>

            
                
<div class="section-members">
<h4 class="name" id="~uacOptions">uacOptions</h4>




<div class="description">
    Arguments provided when creating a UAC dialog
</div>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>headers</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">SIP headers to include on the SIP INVITE request</td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>localSdp</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last">the local session description protocol to include in the SIP INVITE request</td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>uri</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="global.html#RequestUri">RequestUri</a></code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">request uri to send to</td>
        </tr>

        

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line1039">line 1039</a>
    </li></ul></dd>
    

    

    

    
</dl>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><code>Object</code></span>


        </li>
    </ul>





</div>

            
                
<div class="section-method">

    

    <h4 class="name" id="~uasCallback"><span class="type-signature"></span>uasCallback<span class="signature">(err, dialog)</span><span class="type-signature"></span></h4>

    



<div class="description">
    This callback provides the dialog created in a createUAS request.
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line995">line 995</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>err</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Error</code></span>


            
            </td>

            

            

            <td class="description last">
                error returned on non-success
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dialog</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="Dialog.html">Dialog</a></code></span>


            
            </td>

            

            

            <td class="description last">
                User Agent Server dialog created
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
            
                
<div class="section-members">
<h4 class="name" id="~uasOptions">uasOptions</h4>




<div class="description">
    Arguments provided when creating a UAS dialog
</div>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>headers</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">SIP headers to include on the SIP response to the INVITE</td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>localSdp</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last">the local session description protocol to include in the SIP response</td>
        </tr>

        

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line1032">line 1032</a>
    </li></ul></dd>
    

    

    

    
</dl>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><code>Object</code></span>


        </li>
    </ul>





</div>

            
    

    
        <h3 class="subsection-title">Events</h3>

        
            
<div class="section-method">

    

    <h4 class="name" id="event:cdr:attempt">cdr:attempt</h4>

    



<div class="description">
    a <code>cdr:attempt</code> event is emitted by an Srf instance when a call attempt has been
received (inbound) or initiated (outbound)
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line1144">line 1144</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>source</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            

            

            <td class="description last">
                'network'|'application', depending on whether the INVITE is
\inbound (received), or outbound (sent), respectively
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>time</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            

            

            <td class="description last">
                the time (UTC) recorded by the SIP stack corresponding to the attempt
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>msg</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                the actual message that was sent or received
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="event:cdr:start">cdr:start</h4>

    



<div class="description">
    a <code>cdr:start</code> event is emitted by an Srf instance when a call attempt has been connected successfully
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line1153">line 1153</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>source</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            

            

            <td class="description last">
                'network'|'application', depending on whether the INVITE is
inbound (received), or outbound (sent), respectively
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>time</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            

            

            <td class="description last">
                the time (UTC) recorded by the SIP stack corresponding to the attempt
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>role</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            

            

            <td class="description last">
                'uac'|'uas'|'uac-proxy'|'uas-proxy' indicating whether the application
is acting as a user agent client, user agent server, proxy (sending message), or proxy
(receiving message) for this cdr
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>msg</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                the actual message that was sent or received
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="event:cdr:stop">cdr:stop</h4>

    



<div class="description">
    a <code>cdr:stop</code> event is emitted by an Srf instance when a connected call has ended
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line1164">line 1164</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>source</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            

            

            <td class="description last">
                'network'|'application', depending on whether the INVITE is inbound (received),
or outbound (sent), respectively
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>time</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            

            

            <td class="description last">
                the time (UTC) recorded by the SIP stack corresponding to the attempt
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>reason</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            

            

            <td class="description last">
                the reason the call was ended
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>msg</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                the actual message that was sent or received
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="event:connect">connect</h4>

    



<div class="description">
    a <code>connect</code> event is emitted by an Srf instance when a connect method completes
with either success or failure
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="srf.js.html">srf.js</a>, <a href="srf.js.html#line1137">line 1137</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>err</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                error encountered when attempting to connect
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>hostport</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            

            

            <td class="description last">
                the SIP address[:port] drachtio server is listening on for incoming SIP messages
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
        
    
</article>

</section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.4</a> on Tue Nov 21 2017 21:20:36 GMT-0500 (EST) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>